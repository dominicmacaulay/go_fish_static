@import "@rolemodel/optics/dist/scss/optics.scss";



.game-page {
  --gf-panel-width: calc(120 * var(--op-size-unit));
  --gf-panel-height: calc(64 * var(--op-size-unit));
  --gf-header-padding: calc(5 * var(--op-size-unit));

  display: grid;
  grid-template-areas:
    "game-baord game-feed"
    "your-hand your-books";
  grid-template-columns: 1fr var(--gf-panel-width);
  grid-template-rows: 1fr var(--gf-panel-height);
  height: 100vh;
  overflow: auto;
}

// first level blocks
.game-board,
.game-feed,
.your-books,
.your-hand {
  display: grid;
  grid-template-columns: 1fr;
  box-shadow: var(--op-border-all) var(--op-color-primary-base);
  overflow: auto;
}

.game-board,
.game-feed {
  --game-header-height: calc(15 * var(--op-size-unit));
  grid-template-rows: var(--game-header-height) 1fr;
}

.your-books,
.your-hand {
  --your-header-height: calc(12 * var(--op-size-unit));
  grid-template-rows: var(--your-header-height) 1fr;
}

.game-board {
  grid-area: "game-baord";
}

.game-feed {
  grid-area: "game-feed";
}

.your-hand {
  grid-area: "your-hand";
}

.your-books {
  grid-area: "your-books";
}

// block headers
.game-header,
.your-header {
  grid-area: 1 / 1 / 2 / 2;
  display: flex;
  align-items: center;
  padding-left: var(--gf-header-padding);
  box-shadow: var(--op-border-bottom) var(--op-color-primary-base);
}

.go-back {
  gap: var(--op-space-large);
}

.show-turn {
  justify-content: space-between;
  padding-right: var(--gf-header-padding);
}

.your-header__text,
.game-header__text {
  font-size: var(--op-font-large);
}

// block content

// TODO: add overflow to all sections\
.feed-section,
.player-decks,
.your-hand__cards,
.your-books__cards {
  overflow: auto;
}

// game board content
.player-decks {
  --player-decks-padding: calc(12 * var(--op-size-unit));
  display: flex;
  flex-direction: column;
  gap: var(--op-space-large);
  padding: var(--player-decks-padding);
}

.player-decks-heading {
  font-size: var(--op-font-large);
}

.player-hands {
  display: flex;
  flex-direction: column;
  gap: var(--op-space-x-small);
}

.player-hand {
  box-shadow: var(--op-border-all) var(--op-color-primary-base);
  padding-inline: calc(.2 * var(--player-decks-padding));
  padding-top: calc(.2 * var(--player-decks-padding));
}

.accordion summary {
  padding-bottom: calc(.2 * var(--player-decks-padding));
}

.accordion__label {
  display: flex;
  justify-content: space-between;
}

.hand-info {
  display: flex;
  gap: var(--op-space-small);
}

.accordion__label span {
  font-size: var(--op-font-medium);
}

.accordion-contents {
  display: flex;
  gap: var(--op-space-large);
  padding: calc(.2 * var(--player-decks-padding));
  box-shadow: var(--op-border-top) var(--op-color-primary-base);
}

.hand {
  display: flex;
  flex-grow: 1;
}

// game feed content
.feed-section {
  --feed-padding: calc(10 * var(--op-size-unit));
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: var(--feed-padding);
  gap: var(--op-space-small);
}

// feed content
.feed-content {
  display: flex;
  flex-direction: column;
  gap: var(--op-space-small);
  align-items: flex-start;
  overflow: auto;
}

.player-action {
  padding: calc(.3 *var(--feed-padding));
  background-color: var(--op-color-primary-plus-three);
  border-radius: var(--op-radius-x-large);
  font-size: var(--op-font-medium);
}

.action-responses {
  display: flex;
  flex-direction: column;
  padding: calc(.4 * var(--feed-padding));
  gap: var(--op-space-small);
}

.first-response,
.second-response {
  display: flex;
  align-items: center;
  padding: calc(.1 * var(--feed-padding));
}

.first-response-message,
.second-response-message {
  display: flex;
  flex-wrap: wrap;
  padding: calc(.2 * var(--feed-padding));
  border-radius: var(--op-radius-x-large);
}

.first-response-message {
  background-color: var(--op-color-alerts-warning-on-plus-max-alt);
}

.second-response-message {
  background-color: var(--op-color-primary-on-plus-seven-alt);
}

// game actions
.game-actions {
  display: flex;
  flex-direction: column;
  padding: calc(.3 * var(--feed-padding));
  gap: var(--op-space-small);

  background-color: var(--op-color-primary-base);
  border-radius: var(--op-radius-large);
}

.action-options {
  display: flex;
  gap: var(--op-space-large);
}

.card-form,
.player-form {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  gap: var(--op-space-x-small);
}

.form-label {
  font-size: var(--op-font-medium);
}

.game-actions-btn {
  background-color: var(--op-color-primary-plus-three);
  font-size: var(--op-font-medium);
}

// Your hand content
.your-hand__cards,
.your-books__cards {
  --your-padding: calc(5 * var(--op-size-unit));
  padding: var(--your-padding);
}

.card-stack {
  // TODO: convert to grid overlap
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(calc(15 * var(--op-size-unit)), calc(25 * var(--op-size-unit))));
  grid-auto-flow: column;
}

.game-board-card-stack {
  grid-template-columns: repeat(auto-fit, minmax(calc(15 * var(--op-size-unit)), calc(20 * var(--op-size-unit))));
}

.card {
  min-width: calc(15 * var(--op-size-unit));
  max-width: calc(25 * var(--op-size-unit));
  aspect-ratio: 7 / 10;
  background-color: var(--op-color-white);
}

.game-board-cards {
  max-width: calc(20 * var(--op-size-unit));
}